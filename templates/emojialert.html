<!-- greeting.html -->
<html>
  <body>
    <p>Press the copy button to copy</p>
    <p>Here is your encrypted/decrypted message:</p>
    <b id="outputtext">{{ name }}</b>
    <button id="copy-btn">Copy</button>
    <br /><br />
    <h4>
      Warning! you tried to decrypt a encoded emoji! û, ú or ù means there was a
      emoji there
    </h4>
    <form method="post">
      <label for="user_name"
        >Enter your message (can be encrypted or decrypted):</label
      >
      <input type="text" id="user_name" name="user_name" required />
      <input type="submit" value="Run" />
    </form>
    <a href="/advance">Advance Mode!</a>
  </body>
  <script>
    // Get the button and the <b> tag
    const copyBtn = document.querySelector("#copy-btn");
    const outputText = document.querySelector("#outputtext");

    // Add a click event listener to the button
    copyBtn.addEventListener("click", function () {
      // Create a text area element
      const textArea = document.createElement("textarea");
      textArea.textContent = outputText.textContent;
      document.body.appendChild(textArea);
      textArea.select();
      document.execCommand("copy");
      textArea.remove();

      copyBtn.innerHTML = "Copied!";
    });
  </script>
</html>
